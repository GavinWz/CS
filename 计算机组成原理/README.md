# 计算机组成原理

## 1. 计算机系统概论

### 1.1. 计算机系统简介

**计算机的软硬件概念**

1. 计算机系统
* 硬件： 计算机的实体，如主机、外设等
* 软件： 具有各类特殊功能的信息（程序）组成
  * 系统软件：用来管理整个计算机系统
     语言处理程序、操作系统、服务性程序、数据库管理系统、网络软件 
  * 应用软件：按任务需要编制成的各种程序
2. 计算机系统的层次结构
* 系统复杂性管理的方法：``**抽象**``
  * 对于一个过程的某些细节有目的的隐藏，以便把其他方面、细节或者结构表达地更清楚。 --百度百科
  * 指高级的模型，和低级的实体相对。 --维基百科
  * 隐藏系统中不重要的细节。 David Haris
* 从程序的角度对计算机的层次进行抽象
    ![计算机层次抽象](./Pictures/计算机层次抽象（1）.png)
    ![计算机层次抽象](Pictures/计算机层次抽象（2）.png)
    软件与硬件之间的虚线表示计算机系统软硬件的接口
3. 计算机组成与计算机体系结构从研究内容上来说的区别 
   * 计算机体系结构：机器语言程序员所见到的计算机系统的属性、概念性的结构和功能特性。定义了计算机系统软硬件的交界面，定义了软硬件交互的接口。
   * 计算机组成：实现计算机体系结构所体现的属性

### 1.2. 计算机的基本组成

1. 冯·诺依曼计算机的特点
* 计算机由五大部件组成：运算器、控制器、存储器、输入设备、输出设备
* 指令和数据已同等地位存与存储器中，可按地址访问
* 指令和数据用二进制表示
* 指令由**操作码**和**地址码**组成
* *存储程序*（核心特征）
* 以运算器为中心
2. 冯诺依曼计算机硬件框图
  ![冯诺依曼计算机硬件框图](./Pictures/冯诺依曼计算机硬件框图.png)
  * 运算器：完成算数运算、逻辑运算
  * 存储器：存放数据和程序
  * 控制器：指挥程序运行
  * 输入设备：将信息转换为机器能识别的信息
  * 输出设备：将计算机处理的结果转换成人们熟悉的形式

  存在的问题：
    * 以运算器为中心会使得运算器比较繁忙
    * 该框图比较乱，不具有层次化的特征
3. 计算机硬件框图
  * 以存储器为中心的计算机硬件框图
    ![以存储器为中心的计算机硬件框图](./Pictures/以存储器为中心的计算机硬件框图.png)
  * 现代计算机硬件框图
    ![现代计算机硬件框图](./Pictures/现代计算机硬件框图.png) 
    * 层次化（Hierachy）：将被设计的系统划分为多个模块和子模块
    * 模块化（Modularity）：有明确定义的功能和接口
    * 规则性（Regularity）：使模块更容易被重用
4. 计算机的工作过程
* 主存储器的基本组成
  ![主存](./Pictures/主存.png)

  存储体由多个存储单元组成，每个存储单元又包含若干个存储原件，每个存储原件能寄存以为二进制代码‘0’或‘1’。存储单元按地址寻访

  * 存储单元：存放一串二进制代码
  * 存储字：存储单元中二进制代码的组合
  * 存储字长：存储单元中二进制代码的位数
  
  **主存**

   1. MAR（存储器地址寄存器）：反映存储单元的个数
   2. MDR（存储器数据寄存器）：反映存储字长

* 运算器的基本组成与操作过程
  ![运算器](./Pictures/运算器.png) 

  运算器的组成ALU+至少3个寄存器：

  1. 算数逻辑单元（ALU）（运算器的核心）
  2. 寄存器：保存参与运算的数据
    * 累加器（ACC）
    * 数据寄存器（X）
    * 乘商寄存器（MQ）
  
  各类寄存器中存放的各类操作数：

  ![各类运算中运算数的保存情况](./Pictures/各类运算中运算数的保存情况.png)

* 加法
  ![加法操作](./Pictures/加法操作.png)
   * 加法指令中，地址码M给出加数在内存中的地址
     ![加法指令](./Pictures/加法指令.png) 
   * 初态：被加数被存入到ACC中，加数存在X寄存器中
   * 操作1：将加数从M内存单元中取出，存入X寄存器
   * 操作2：ALU对[ACC]和[X]进行加法操作
   * 操作3：ALU将结果保存在ACC寄存器中

* 减法
  ![减法操作](./Pictures/减法操作.png)
  * 减法指令中，地址码M给出减数的地址
    ![减法指令](./Pictures/减法指令.png) 
  * 初态：被减数被存入到ACC中，减数存在内存单元为M的地址中
  * 操作1：将加数从M内存单元中取出，存入X寄存器
  * 操作2：ALU对[ACC]和[X]进行减法操作
  * 操作3：ALU将结果保存在ACC寄存器中

* 乘法
  ![乘法操作](./Pictures/乘法操作.png)
  * 乘法指令中，地址码M给出乘数的地址
    ![乘法指令](./Pictures/乘法指令.png)
  * 初态：被乘数被存入到ACC中
  * 操作1：将乘数从M内存中取出，存入MQ寄存器 
  * 操作2：将ACC的内容送到X寄存器中
  * 操作3：把累加初值0存入ACC中，即把ACC清零
  * 操作4：进行乘法操作，将结果的高位存入ACC，将低位存入MQ

* 除法
  * 除法指令中，地址码M给出除数的地址
  * 初态：被除数被存入到ACC中
  * 操作1：将除数从M内存中取出，存入MQ寄存器 
  * 操作2：将除数从M内存单元中取出，存入X寄存器
  * 操作3：进行除法操作，将商保存在MQ寄存器中，余数保存在ACC中